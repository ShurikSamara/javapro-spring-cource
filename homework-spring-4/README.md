# Домашнее задание №7. Spring Web часть 2

* [Части задания](#части-задания)
* [Запуск приложения](#запуск-приложения)
* [API Endpoints](#api-endpoints)

## Части задания
Требуется скорректировать сервис на базе предыдущего [домашнего задания](../homework-spring-3):

- [X] Добавить сервис платёжного ядра в тот же проект с сервисом продуктов в виде отдельного модуля;

- [X] Добавить интеграцию платёжного сервиса с сервисом продуктов через RestTemplate (или RestClient);

- [X] Добавить возможность запрашивать продукты у платёжного сервиса (клиент кидает запрос в платёжный сервис, 
а он запрашивает продукты клиента у сервиса продуктов и возвращает клиенту результат);

- [X] Добавить процесс исполнения платежа, так же в нём выбор продукта, проверку существования продукта 
и достаточности средств на счёте;

- [X] Добавить возврат ошибок клиенту о проблемах как на стороне платёжного сервиса, так и на стороне сервиса продуктов

## Запуск приложения

1. Собрать модели и DTO:
```
cd shared-models
mvn clean install -f pom.xml
```

2. Запустить сервис продуктов:
```
cd product-service
mvn spring-boot:run
```

3.Запустить платежный сервис:
```
cd payment-service
mvn spring-boot:run
```

## API Endpoints

### Сервис продуктов (порт 8081)
- GET /api/v1/products/{id} - получить продукт по ID
- GET /api/v1/products/client/{clientId} - получить все продукты клиента
- POST /api/v1/products - создать новый продукт
- PUT /api/v1/products/{id} - обновить продукт
- DELETE /api/v1/products/{id} - удалить продукт

### Платежный сервис (порт 8082)
- GET /api/v1/payments/client/{clientId}/products - получить все продукты клиента через платежный сервис
- POST /api/v1/payments/process - обработать платеж

### Не забудь убрать '/' в окончании пути, иначе ошибка