# Домашнее задание №7. Spring Web часть 2

* [Части задания](#части-задания)
* [Запуск приложения](#запуск-приложения)
* [API Endpoints](#api-endpoints)

## Части задания
Требуется скорректировать сервис на базе предыдущего [домашнего задания](../homework-spring-3):

- [X] Добавить сервис платёжного ядра в проект `product-service` в виде отдельного модуля;

- [X] Добавить интеграцию платёжного сервиса (далее - `payment-service`) с `product-service` через RestTemplate (или RestClient);

- [X] Добавить возможность запрашивать продукты у платёжного сервиса (клиент отправляет запрос в `payment-service`, 
а он запрашивает продукты в `product-service`. Полученный результат по продуктам возвращается клиенту);

- [X] Добавить процесс исполнения платежа, а также в нём выбор продукта, проверку существования продукта 
и достаточности средств на счёте(проверить баланс);

- [X] Добавить возврат ошибок клиенту о проблемах как на стороне `payment-service`, так и в `product-service`.

## Запуск приложения

1. Собрать модели и DTO:
```
cd shared-models
mvn clean install -f pom.xml
```

2. Запустить сервис продуктов:
```
cd product-service
mvn spring-boot:run
```

3. Запустить платёжный сервис:
```
cd payment-service
mvn spring-boot:run
```

## API Endpoints

### Сервис продуктов (порт 8081)
- GET /api/v1/products/{id} — получить продукт по ID
- GET /api/v1/products/client/{clientId} — получить все продукты клиента
- POST /api/v1/products — создать новый продукт
- PUT /api/v1/products/{id} — обновить продукт
- DELETE /api/v1/products/{id} — удалить продукт

### Платёжный сервис (порт 8082)
- GET /api/v1/payments/client/{clientId}/products — получить все продукты клиента через платежный сервис
- POST /api/v1/payments/process — обработать платеж